(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"8eHd":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var s=n(a("TeRw")),r=n(a("d6i3")),u=n(a("p0pE")),c=a("fvNO"),d=c.getPostById,o=c.addComment,l=c.deleteComment,p=c.deletePost,i={namespace:"articleView",state:{post:null,comments:[]},reducers:{changePost:function(e,t){return(0,u.default)({},e,t.payload)}},effects:{getPost:r.default.mark(function e(t,a){var n,s,u;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,s=a.put,e.next=3,n(d,t.payload);case 3:if(u=e.sent,200!==u.status){e.next=7;break}return e.next=7,s({type:"changePost",payload:u.data});case 7:case"end":return e.stop()}},e)}),addComment:r.default.mark(function e(t,a){var n,u,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,u=a.put,e.next=3,n(o,t.payload);case 3:if(c=e.sent,200!==c.status){e.next=8;break}return s.default.success({message:"\u8bc4\u8bba\u6210\u529f"}),e.next=8,u({type:"changePost",payload:{comments:c.data}});case 8:case"end":return e.stop()}},e)}),deleteComment:r.default.mark(function e(t,a){var n,u,c;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,u=a.put,e.next=3,n(l,t.payload);case 3:if(c=e.sent,200!==c.status||"success"!=c.statusText){e.next=10;break}return s.default.success({message:"\u8bc4\u8bba\u5220\u9664\u6210\u529f"}),e.next=8,u({type:"changePost",payload:{comments:c.data}});case 8:e.next=11;break;case 10:s.default.error({message:c.message});case 11:case"end":return e.stop()}},e)}),deletePost:r.default.mark(function e(t,a){var n,u;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,a.put,e.next=3,n(p,t.payload);case 3:u=e.sent,200===u.status&&"success"===u.statusText?(s.default.success({message:"\u6587\u7ae0\u5220\u9664\u6210\u529f"}),location.href="/"):s.default.success({message:u.message});case 5:case"end":return e.stop()}},e)})}},f=i;t.default=f},fvNO:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getPostById=c,t.addComment=o,t.deleteComment=p,t.deletePost=f;var s=n(a("d6i3")),r=n(a("1l/V")),u=n(a("t3Un"));function c(e){return d.apply(this,arguments)}function d(){return d=(0,r.default)(s.default.mark(function e(t){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/posts/getOne",{params:t}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function o(e){return l.apply(this,arguments)}function l(){return l=(0,r.default)(s.default.mark(function e(t){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/comments/add",{method:"POST",data:t}));case 1:case"end":return e.stop()}},e)})),l.apply(this,arguments)}function p(e){return i.apply(this,arguments)}function i(){return i=(0,r.default)(s.default.mark(function e(t){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/comments/delete",{method:"POST",data:t}));case 1:case"end":return e.stop()}},e)})),i.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return m=(0,r.default)(s.default.mark(function e(t){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/posts/remove",{method:"post",data:t}));case 1:case"end":return e.stop()}},e)})),m.apply(this,arguments)}}}]);