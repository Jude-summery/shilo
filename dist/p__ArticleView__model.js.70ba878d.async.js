(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"8eHd":function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("/xke");var r=n(a("TeRw")),s=n(a("d6i3")),u=n(a("p0pE")),c=a("fvNO"),d=c.getPostById,o=c.addComment,p=c.deleteComment,l={namespace:"articleView",state:{post:null,comments:[]},reducers:{changePost:function(e,t){return(0,u.default)({},e,t.payload)}},effects:{getPost:s.default.mark(function e(t,a){var n,r,u;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,r=a.put,e.next=3,n(d,t.payload);case 3:if(u=e.sent,200!==u.status){e.next=7;break}return e.next=7,r({type:"changePost",payload:u.data});case 7:case"end":return e.stop()}},e)}),addComment:s.default.mark(function e(t,a){var n,u,c;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,u=a.put,e.next=3,n(o,t.payload);case 3:if(c=e.sent,200!==c.status){e.next=8;break}return r.default.success({message:"\u8bc4\u8bba\u6210\u529f"}),e.next=8,u({type:"changePost",payload:{comments:c.data}});case 8:case"end":return e.stop()}},e)}),deleteComment:s.default.mark(function e(t,a){var n,u,c;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.call,u=a.put,e.next=3,n(p,t.payload);case 3:if(c=e.sent,200!==c.status||"success"!=c.statusText){e.next=10;break}return r.default.success({message:"\u8bc4\u8bba\u5220\u9664\u6210\u529f"}),e.next=8,u({type:"changePost",payload:{comments:c.data}});case 8:e.next=11;break;case 10:r.default.error({message:c.message});case 11:case"end":return e.stop()}},e)})}},i=l;t.default=i},fvNO:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.getPostById=c,t.addComment=o,t.deleteComment=l;var r=n(a("d6i3")),s=n(a("1l/V")),u=n(a("t3Un"));function c(e){return d.apply(this,arguments)}function d(){return d=(0,s.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/posts/getOne",{params:t}));case 1:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function o(e){return p.apply(this,arguments)}function p(){return p=(0,s.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/comments/add",{method:"POST",data:t}));case 1:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function l(e){return i.apply(this,arguments)}function i(){return i=(0,s.default)(r.default.mark(function e(t){return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.default)("/api/comments/delete",{method:"POST",data:t}));case 1:case"end":return e.stop()}},e)})),i.apply(this,arguments)}}}]);